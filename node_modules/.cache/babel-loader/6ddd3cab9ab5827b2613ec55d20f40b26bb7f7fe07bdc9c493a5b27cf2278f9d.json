{"ast":null,"code":"//xin jian\n\nimport axios from \"axios\";\nimport { BASE_URL, TIMEOUT } from \"./config\";\nclass HYRequest {\n  constructor(baseURL, timeout = 10000) {\n    this.instance = axios.create({\n      baseURL,\n      timeout\n    });\n    this.instance.interceptors.request.use(config => {\n      // mainStore.isLoading = true\n      return config;\n    }, err => {\n      return err;\n    });\n    this.instance.interceptors.response.use(res => {\n      // mainStore.isLoading = false\n      return res;\n    }, err => {\n      // mainStore.isLoading = false\n      return err;\n    });\n  }\n  request(config) {\n    // mainStore.isLoading = true\n    return new Promise((resolve, reject) => {\n      this.instance.request(config).then(res => {\n        resolve(res.data);\n        // mainStore.isLoading = false\n      }).catch(err => {\n        reject(err);\n        // mainStore.isLoading = false\n      });\n    });\n  }\n\n  get(config) {\n    return this.request({\n      ...config,\n      method: \"get\"\n    });\n  }\n  post(config) {\n    return this.request({\n      ...config,\n      method: \"post\"\n    });\n  }\n}\nexport default new HYRequest(BASE_URL, TIMEOUT);","map":{"version":3,"names":["axios","BASE_URL","TIMEOUT","HYRequest","constructor","baseURL","timeout","instance","create","interceptors","request","use","config","err","response","res","Promise","resolve","reject","then","data","catch","get","method","post"],"sources":["/Users/nicolasroy/Desktop/卖座网实战/maizuo_movie/src/servies/axios_request/index.js"],"sourcesContent":["//xin jian\r\n\r\nimport axios from \"axios\"\r\nimport { BASE_URL, TIMEOUT } from \"./config\"\r\n\r\nclass HYRequest {\r\n  constructor(baseURL, timeout = 10000) {\r\n    this.instance = axios.create({\r\n      baseURL,\r\n      timeout,\r\n    })\r\n\r\n    this.instance.interceptors.request.use(\r\n      config => {\r\n        // mainStore.isLoading = true\r\n        return config\r\n      },\r\n      err => {\r\n        return err\r\n      }\r\n    )\r\n    this.instance.interceptors.response.use(\r\n      res => {\r\n        // mainStore.isLoading = false\r\n        return res\r\n      },\r\n      err => {\r\n        // mainStore.isLoading = false\r\n        return err\r\n      }\r\n    )\r\n  }\r\n\r\n  request(config) {\r\n    // mainStore.isLoading = true\r\n    return new Promise((resolve, reject) => {\r\n      this.instance\r\n        .request(config)\r\n        .then(res => {\r\n          resolve(res.data)\r\n          // mainStore.isLoading = false\r\n        })\r\n        .catch(err => {\r\n          reject(err)\r\n          // mainStore.isLoading = false\r\n        })\r\n    })\r\n  }\r\n\r\n  get(config) {\r\n    return this.request({ ...config, method: \"get\" })\r\n  }\r\n\r\n  post(config) {\r\n    return this.request({ ...config, method: \"post\" })\r\n  }\r\n}\r\n\r\nexport default new HYRequest(BASE_URL, TIMEOUT)\r\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,OAAO,QAAQ,UAAU;AAE5C,MAAMC,SAAS,CAAC;EACdC,WAAWA,CAACC,OAAO,EAAEC,OAAO,GAAG,KAAK,EAAE;IACpC,IAAI,CAACC,QAAQ,GAAGP,KAAK,CAACQ,MAAM,CAAC;MAC3BH,OAAO;MACPC;IACF,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CACpCC,MAAM,IAAI;MACR;MACA,OAAOA,MAAM;IACf,CAAC,EACDC,GAAG,IAAI;MACL,OAAOA,GAAG;IACZ,CACF,CAAC;IACD,IAAI,CAACN,QAAQ,CAACE,YAAY,CAACK,QAAQ,CAACH,GAAG,CACrCI,GAAG,IAAI;MACL;MACA,OAAOA,GAAG;IACZ,CAAC,EACDF,GAAG,IAAI;MACL;MACA,OAAOA,GAAG;IACZ,CACF,CAAC;EACH;EAEAH,OAAOA,CAACE,MAAM,EAAE;IACd;IACA,OAAO,IAAII,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,IAAI,CAACX,QAAQ,CACVG,OAAO,CAACE,MAAM,CAAC,CACfO,IAAI,CAACJ,GAAG,IAAI;QACXE,OAAO,CAACF,GAAG,CAACK,IAAI,CAAC;QACjB;MACF,CAAC,CAAC,CACDC,KAAK,CAACR,GAAG,IAAI;QACZK,MAAM,CAACL,GAAG,CAAC;QACX;MACF,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;;EAEAS,GAAGA,CAACV,MAAM,EAAE;IACV,OAAO,IAAI,CAACF,OAAO,CAAC;MAAE,GAAGE,MAAM;MAAEW,MAAM,EAAE;IAAM,CAAC,CAAC;EACnD;EAEAC,IAAIA,CAACZ,MAAM,EAAE;IACX,OAAO,IAAI,CAACF,OAAO,CAAC;MAAE,GAAGE,MAAM;MAAEW,MAAM,EAAE;IAAO,CAAC,CAAC;EACpD;AACF;AAEA,eAAe,IAAIpB,SAAS,CAACF,QAAQ,EAAEC,OAAO,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}